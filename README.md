# entrance-ui
ğŸğŸ„vueå®ç°çš„å°†ç™»é™†ã€æ³¨å†Œã€çŸ­ä¿¡éªŒè¯ã€é‚®ç®±éªŒè¯ã€å¿˜è®°å¯†ç ç­‰ç­‰åŠŸèƒ½åˆå¹¶åœ¨ä¸€èµ·çš„é€šç”¨ç»„ä»¶

## å®‰è£…
npm install --save entrance-vue fzm

### ä½¿ç”¨
```javascript
import Vue from 'vue'
import Entrance from "entrance-vue"
Vue.use(Entrance);
```
### Entranceç»„ä»¶éœ€è¦ä¼ é€’ä»¥ä¸‹ä¸ªå‚æ•°  

| å‚æ•°        | è¯´æ˜    |  ç±»å‹  |  æ˜¯å¦å¿…é¡»  |
| :--------: | :-----   | :----: | :----: |
| api        |   å­˜æ”¾æ‰€æœ‰ç™»å½•æ³¨å†Œç›¸å…³çš„httpæ¥å£æ–¹æ³•çš„å¯¹è±¡ è¯¦ç»†è¯·æŸ¥çœ‹ä¸‹é¢     |   Object    |   å¿…é¡»    |
| platkey    |  é¡¹ç›®æ ‡è®°     |   String    |   å¿…é¡»    |
| callback   |   ç™»å½•å’Œæ³¨å†ŒæˆåŠŸä¹‹åçš„å›è°ƒæ–¹æ³• è¯¦ç»†è¯·æŸ¥çœ‹ä¸‹é¢    |   Function    |   å¿…é¡»    |
| open       |   æ˜¯å¦æ˜¾ç¤ºç™»å½•æ³¨å†Œå¼¹æ¡†,ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªsyncå±æ€§ï¼Œæ‰€ä»¥è¯·åœ¨openåé¢åŠ ä¸Š.sync    |   Boolean    |   å¿…é¡»    |
| icon       |   å›¾æ ‡åœ°å€,ä¸ä¼ é€’åˆ™æ²¡æœ‰å›¾æ ‡,ä¼ å…¥'default'åˆ™ä¸ºé»˜è®¤å›¾æ ‡(ç›®å‰æ˜¯æ‰¾å¸çš„å›¾æ ‡ï¼Œä»¥åä¼šä¿®æ”¹æˆ33.cnçš„logo)    |   String    |   éå¿…é¡»    |
| maxsec     |   éªŒè¯ç å€’è®¡æ—¶æœ€å¤§ç§’æ•°,ä¸ä¼ åˆ™ä¸º60ç§’    |   Number    |   éå¿…é¡»    |
| sty        |   é£æ ¼ å¯é€‰å€¼'absolute' 'relative' 'auto',ä¸å¡«ä¸ºfixedé£æ ¼,å¹¶wrapå®½é«˜å‡ä¸º100%,è®¾ç½®ä¸º'auto'åˆ™å®½é«˜å‡ä¸ºauto    |   String    |   éå¿…é¡»    |
| invite     |   é‚€è¯·ç     |   String    |   éå¿…é¡»    |
| context    |   å‘ç™»å½•æ³¨å†Œä¼ é€’çš„ä¸Šä¸‹æ–‡é’©å­    |   Function    |   éå¿…é¡»    |
| mode       |   PCæ¨¡å¼è¿˜æ˜¯æ‰‹æœºæ¨¡å¼ é»˜è®¤æ˜¯'win'ï¼Œå¦‚éœ€ä½¿ç”¨æ‰‹æœºç‰ˆï¼Œä¼ å…¥'mb'    |   String    |   éå¿…é¡»    |
| notify     |   æç¤ºæ¡†å›è°ƒ åœ¨æ­¤å¯¹è±¡ä¸­å®šä¹‰successã€warnä¸¤ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•æ¥æ”¶å‚æ•°message    |   Object    |   å¿…é¡»    |

### å‡å¦‚éœ€è¦åœ¨ a.vue ä¸­ä½¿ç”¨ç™»å½•æ³¨å†Œç»„ä»¶Entrance

```vue
<template lang="html">
  <div>
    è¿™é‡Œæ˜¯ç™»å½•æ³¨å†Œçš„ä¾‹å­
    <Entrance :api="api" :platkey="'zhaobi'" :callback="cb" :open.sync="open" :icon="'default'"></Entrance>
  </div>
</template>

<script>
import api from './api.js'
export default {
  data(){
    return {
      api,
      cb(type,res){
        console.log(type,res);
      },
      open:true
    }
  }
}
</script>
```

### é™„å½•`./api.js`
```javascript
import {restfuls} from 'entrance';
const api = {
  getRegisterState(params){ //åˆ¤æ–­æ˜¯å¦å·²æ³¨å†Œã€‚æ³¨æ„!getæ–¹å¼çš„è¯·æ±‚paramså¤–é¢éœ€è¦åŒ…è£¹ä¸€ä¸ªå¤§æ‹¬å·
    return restfuls.get(æ³¨å†Œçš„æ¥å£åœ°å€,{ params });
  },
  getCodeBySms(params){ //è·å–çŸ­ä¿¡éªŒè¯ç  postå‚æ•°ä¸éœ€è¦åŠ å¤§æ‹¬å·
    return restfuls.post(è·å–çŸ­ä¿¡éªŒè¯ç çš„æ¥å£åœ°å€,params);
  },
  getCodeByEmail(params){ //è·å–é‚®ç®±éªŒè¯ç 
    return restfuls.post(è·å–é‚®ç®±éªŒè¯ç çš„æ¥å£åœ°å€,params);
  },
  getCodeByVoice(params){ //è·å–è¯­éŸ³éªŒè¯ç 
    return restfuls.post(è·å–è¯­éŸ³éªŒè¯ç çš„æ¥å£åœ°å€,params);
  },
  register(params){ //å¿«é€Ÿæ³¨å†Œ
    return restfuls.post(å¿«é€Ÿæ³¨å†Œçš„æ¥å£åœ°å€,params);
  },
  login(params){ //å¿«é€Ÿç™»å½•
    return restfuls.post(å¿«é€Ÿç™»å½•çš„æ¥å£åœ°å€,params);
  },
  setPassword(params){ //ç¬¬ä¸€æ¬¡è®¾ç½®å¯†ç 
    return restfuls.post(ç¬¬ä¸€æ¬¡è®¾ç½®å¯†ç çš„æ¥å£åœ°å€,params);
  },
  resetPassword(params){ //æ‰¾å›å¯†ç 
    return restfuls.post(æ‰¾å›å¯†ç çš„æ¥å£åœ°å€,params);
  },
  isCaptcha(params){ //è·å–å›¾å½¢éªŒè¯ç 
    return restfuls.get(è·å–å›¾å½¢éªŒè¯ç æ¥å£åœ°å€, {params});
  }
}
```
### é™„å½•`callback`

callbackä¼šå¾—åˆ°ä¸¤ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒç±»å‹,ç›®å‰æœ‰ä¸¤ä¸ªå€¼æä¾›'login' ã€ 'register'
ç¬¬äºŒä¸ªå‚æ•°æ˜¯è°ƒç”¨ç™»å½•æ¥å£åè¿”å›çš„ç»“æœ
```javascript
export default {
  data(){
    return {
      api,
      cb(type,res){
        switch(type){
          case 'login':console.log(`ç™»å½•æˆåŠŸ,ç™»å½•æ¥å£è¿”å›çš„ä¿¡æ¯æ˜¯${res}`);break;
          case 'register':console.log(`æ³¨å†ŒæˆåŠŸ,æ³¨å†Œæ¥å£è¿”å›çš„ä¿¡æ¯æ˜¯${res}`);break;
        }
      }
    }
  }
}
```

## è®°ä½å¯†ç 
ç‚¹å‡»è®°ä½å¯†ç ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„cookie,cookieåä¸ºuserinfo,æœ‰æ•ˆæ—¶é—´ä¸º10å¤©ï¼Œå€¼ä¸ºä¸€ä¸ªjsonå­—ç¬¦ä¸²
```
{
  "area":{
    "code":"+86",
    "name":"ä¸­å›½"
  },
  "mobile":{
    "type":"sms",
    "number":"15888888888",
    "password":"88888888"
  },
  "email":{
    "number":"88888888@163.com",
    "password":"88888888"
  }
}
```
å¯ä»¥ä½¿ç”¨JSON.parseå¯ä»¥è§£æå‡ºè¯¥ç”¨æˆ·ä¿¡æ¯,ç„¶åè¿›è¡Œæ“ä½œ

è‡ªå®šä¹‰æ ·å¼é…ç½®
å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰æ ·å¼ï¼Œè¯·ç›´æ¥ç¼–å†™è‡ªå·±çš„cssæ ·å¼è¦†ç›–é»˜è®¤æ ·å¼
.entrance-logreg-wrap{
  //ç•¥
}
.entrance-logreg-win{
  //ç•¥
}

## åŠŸèƒ½å®Œæˆæƒ…å†µ

- [x] ~~æ‰‹æœºé‚®ç®±åˆ‡æ¢~~  
- [x] ~~æ‰‹æœºéªŒè¯ç æ³¨å†Œ~~  
- [x] ~~æ‰‹æœºéªŒè¯ç ç™»å½•~~  
- [x] ~~é‚®ç®±éªŒè¯ç æ³¨å†Œ~~  
- [x] ~~é‚®ç®±éªŒè¯ç ç™»å½•~~  
- [x] ~~æ‰‹æœºè®¾ç½®å¯†ç ~~   
- [x] ~~æ‰‹æœºå¯†ç ç™»å½•~~  
- [x] ~~æ‰‹æœºæ‰¾å›å¯†ç ~~  
- [x] ~~é‚®ç®±è®¾ç½®å¯†ç ~~  
- [x] ~~é‚®ç®±å¯†ç ç™»å½•~~  
- [x] ~~è®°ä½å¯†ç [ä¸å®‰å…¨]~~
- [x] ~~é‚®ç®±æ‰¾å›å¯†ç ~~  
- [x] ~~iconé€‰æ‹©æ€§æ·»åŠ ~~  
- [x] ~~ç™»å½•é˜²åˆ·éªŒè¯ç ~~  
- [x] ~~éªŒè¯ç æ•°ç§’å€’è®¡æ—¶~~
- [x] ~~å¯†ç ç™»å½•éªŒè¯ç ~~  

## å‘ç°BUG  
- [x] è®°ä½å¯†ç åœ¨åˆ‡æ¢æ‰‹æœºå’Œé‚®ç®±çš„æ—¶å€™,å¦‚æœå®ç°å·²ç»æœ‰å¯†ç äº†,ä¸ä¼šæ‰§è¡Œåˆ¤æ–­æ˜¯å¦æ³¨å†Œçš„æ­¥éª¤    
- [x] ~~æœ‰æ—¶å€™è…¾è®¯äº‘çš„éªŒè¯ä¸å‡ºç°~~  
- [x] å¤šæ¬¡å‘é€éªŒè¯ç ä¹‹å,è¿›è¡Œæ³¨å†Œï¼Œåå°ä»¥ç¬¬ä¸€æ¬¡å‘é€çš„éªŒè¯ç ä¸ºæ­£ç¡®çš„éªŒè¯ç ,è€Œä¸æ˜¯ä»¥æœ€åä¸€æ¬¡å‘é€çš„éªŒè¯ç ä¸ºéªŒè¯ç   
- [x] ~~è…¾è®¯äº‘éªŒè¯ç åœ¨åŠ è½½ä¹‹åè™½ç„¶è¿›è¡ŒcapDestoryæ“ä½œï¼Œä½†æ˜¯åœ¨htmlä¸­ä»ç„¶ä¿ç•™äº†åˆ›å»ºçš„script(è€ç‰ˆæœ¬ä¹Ÿå­˜åœ¨è¯¥é—®é¢˜)~~
